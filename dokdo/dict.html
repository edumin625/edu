<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>독도 인터랙티브 용어 사전</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts (Inter & Noto Sans KR) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons (수정된 부분) -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    
    <!-- Tailwind Custom Configuration -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              // 한국어 우선, 그 다음 Inter, 기본 sans-serif
              sans: ['"Noto Sans KR"', 'Inter', 'sans-serif'],
            }
          }
        }
      }
    </script>
    <style>
        /* body 스크롤을 부드럽게 */
        html {
            scroll-behavior: smooth;
        }
        /* 커스텀 스크롤바 (선택 사항) */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; /* cool-gray-300 */
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; /* cool-gray-400 */
        }
    </style>
</head>
<body class="bg-gray-100 font-sans text-gray-800 leading-relaxed">

    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-800 to-blue-600 text-white p-6 md:p-8 text-center shadow-lg">
        <h1 class="text-3xl md:text-4xl font-bold mb-2">독도 인터랙티브 용어 사전</h1>
        <p class="text-md md:text-lg text-blue-100">핵심 용어를 검색하거나 선택하여 자세히 알아보세요.</p>
    </header>

    <!-- Main Content Grid -->
    <div class="flex flex-col md:flex-row max-w-7xl mx-auto p-4 md:p-8 gap-6 md:gap-8">

        <!-- Left Column: Search & Keyword List -->
        <aside class="w-full md:w-1/3 lg:w-1/4 flex-shrink-0">
            <div class="bg-white p-6 rounded-lg shadow-md sticky top-8">
                <!-- Search Bar -->
                <form id="search-form" class="mb-6">
                    <label for="search-input" class="font-semibold text-gray-700 block mb-2">용어 검색</label>
                    <div class="relative flex items-center">
                        <input type="search" id="search-input" placeholder="예: 석도, EEZ..." class="w-full pl-4 pr-10 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition">
                        <button type="submit" class="absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-blue-600" aria-label="검색">
                            <svg data-lucide="search" width="20" height="20"></svg>
                        </button>
                    </div>
                </form>

                <!-- Keyword List -->
                <h2 class="text-xl font-semibold mb-4 border-b pb-2 text-blue-900">핵심 용어 목록</h2>
                <nav class="max-h-[60vh] overflow-y-auto">
                    <ul id="keyword-list" class="space-y-1">
                        <!-- 키워드 버튼이 여기에 동적으로 생성됩니다. -->
                    </ul>
                </nav>
            </div>
        </aside>

        <!-- Right Column: Definition Display -->
        <main class="w-full md:w-2/3 lg:w-3/4">
            <div id="definition-display" class="bg-white p-8 md:p-10 rounded-lg shadow-md min-h-[60vh] transition-all duration-300">
                <!-- 정의가 여기에 표시됩니다. -->
            </div>
        </main>

    </div>

    <!-- Footer -->
    <footer class="text-center p-6 mt-12 bg-gray-200 text-gray-600 text-sm">
        <p>본 페이지는 제공된 '독도용어정리.pdf' 문서를 기반으로 작성되었습니다.</p>
        <p class="mt-1">&copy; 2025 독도 용어 사전. All rights reserved.</p>
    </footer>

    <script>
        // 1. 용어 데이터베이스
        const termsData = {
            'introduction': {
                title: '머리말: 독도를 향한 첫걸음',
                content: '독도를 제대로 알려면 몇 가지 중요한 용어들을 먼저 알아야 해요. 이 해설집은 독도를 둘러싼 조금은 어려운 역사, 지리 용어들을 여러분의 것으로 만들어 주는 첫걸음이 될 거예요.'
            },
            'usan-do': {
                title: '우산도(于山島)',
                category: '독도의 이름',
                content: "삼국시대에 존재했던 '우산국'에서 유래한 이름으로, 역사 기록에 가장 오래전부터 등장하는 독도의 명칭 중 하나입니다."
            },
            'seok-do': {
                title: '석도(石島)',
                category: '독도의 이름',
                content: "'돌로 이루어진 섬'이라는 뜻의 '돌섬'을 한자로 표기한 이름입니다. 1900년 대한제국 칙령에 공식적으로 사용되었습니다."
            },
            'liancourt': {
                title: '리앙쿠르(Liancourt)',
                category: '독도의 이름',
                content: "1849년, 독도를 발견한 프랑스 포경선 '리앙쿠르호'의 이름을 따서 붙여졌습니다. 이 이름은 당시 서양 해도에 널리 사용되었습니다."
            },
            'takeshima': {
                title: '다케시마(竹島)',
                category: '독도의 이름',
                content: "본래 일본은 울릉도를 '다케시마(竹島)'로, 독도를 '마쓰시마(松島, 송도)'로 불렀습니다. 하지만 1905년 독도를 자기 영토에 편입시키면서 독도의 공식 명칭을 '다케시마'로 정해 오늘에 이르고 있습니다."
            },
            'territory': {
                title: '영토, 영해, 영공',
                category: '지리 및 법',
                content: '국가의 주권(주인으로서의 권리)이 미치는 범위를 땅, 바다, 하늘로 나눈 것입니다. 영토는 국가의 주권이 미치는 땅, 영해는 영토의 해안선에서 약 22km(12해리)까지의 바다, 영공은 영토와 영해 바로 위의 하늘을 말합니다. 독도는 명백한 대한민국의 영토이므로, 독도 주변의 영해와 그 위의 영공 역시 우리의 주권이 미치는 소중한 공간입니다.'
            },
            'eez': {
                title: '배타적 경제수역 (EEZ)',
                category: '지리 및 법',
                content: "해안선에서부터 최대 약 370km(200해리)까지, 그 나라만 물고기를 잡거나 해저 자원을 개발하는 등 경제 활동을 할 수 있는 특별한 바다 구역입니다. 독도가 우리 영토이기에, 독도를 기준으로 넓은 배타적 경제수역을 확보할 수 있습니다. 독도 주변 바다에는 '불타는 얼음'이라 불리는 차세대 에너지 자원 가스 하이드레이트가 약 6억 톤(우리나라 국민이 약 30년간 사용 가능한 양)이나 묻혀 있는 것으로 추정됩니다. 독도는 이처럼 막대한 해양 자원을 지키는 기준점이 되는 것이죠."
            },
            'effective-control': {
                title: '실효적 지배 (Effective Control)',
                category: '지리 및 법',
                content: "어떤 영토에 대해 국가가 실제로 주인으로서의 권리를 행사하며 관리하고 있다는 것을 의미합니다. 대한민국은 독도경비대를 상시 주둔시키고, 우리나라 주민이 거주하며, '경상북도 울릉군 울릉읍 독도리 이사부길, 안용복길'이라는 공식 주소를 부여하는 등 독도를 실효적으로 지배하고 있습니다. 이는 말로만 '우리 땅'이라고 주장하는 것이 아니라, 실질적인 관리 활동을 통해 주권을 보여주는 것입니다."
            },
            'sejong-sillok': {
                title: '세종실록지리지 (1454년)',
                category: '역사 속 증거 (한국)',
                content: '울릉도(무릉)에서 독도(우산)가 눈으로 보인다는 사실을 기록한 가장 오래된 공식 문서 중 하나입니다.',
                keyPoint: '당시 우리 조상들이 두 섬을 하나의 생활권으로 인식했음을 보여주는 강력한 증거입니다.'
            },
            'edict-41': {
                title: '대한제국 칙령 제41호 (1900년)',
                category: '역사 속 증거 (한국)',
                content: "여기서 '석도(石島)'는 '돌섬', 즉 독도를 의미하며, 대한제국이 근대적인 법령을 통해 독도가 울릉군의 관할 아래 있는 명백한 우리 영토임을 전 세계에 공식적으로 선포했음을 증명합니다.",
                keyPoint: '대한제국이 근대적인 법령을 통해 독도가 울릉군의 관할 아래 있는 명백한 우리 영토임을 전 세계에 공식적으로 선포했음을 증명합니다.'
            },
            'eunju-sicheong': {
                title: '은주시청합기 (1667년)',
                category: '역사 속 증거 (일본)',
                content: '일본 관리가 직접 작성한 이 보고서는, 일본 스스로 울릉도와 독도를 조선의 땅으로 인식하고 자국의 서쪽 경계는 오키섬까지라고 명확히 선을 그었다는 사실을 보여줍니다.',
                keyPoint: '일본 스스로 울릉도와 독도를 조선의 땅으로 인식하고 자국의 서쪽 경계를 명확히 그었다는 사실을 보여줍니다.'
            },
            'dajokan-directive': {
                title: '태정관 지령 (1877년)',
                category: '역사 속 증거 (일본)',
                content: "'태정관'은 당시 일본의 최고 국가기관입니다. 이 문서에서 태정관은 \"울릉도와 독도는 일본과 관계가 없다\"고 공식적으로 결론 내렸으며, 이는 독도가 일본 영토가 아님을 일본 정부 스스로 인정한 결정적인 증거입니다.",
                keyPoint: '독도가 일본 영토가 아님을 일본 정부 스스로 인정한 결정적인 증거입니다.'
            },
            'san-francisco-treaty': {
                title: '샌프란시스코 강화조약 (1951년)',
                category: '오늘날의 독도',
                content: '제2차 세계대전에서 패배한 일본의 주권과 영토를 결정하기 위해 연합국과 일본이 맺은 국제 조약입니다. 중요한 사실은, 초기 조약 초안에는 일본이 한국에 반환할 영토로 독도(\'리앙쿠르암\')가 명확히 포함되어 있었다는 점입니다. 하지만 이를 알게 된 일본이 강력한 로비를 벌여 최종 조약문에서 독도를 의도적으로 빼도록 만들었습니다.',
                keyPoint: '일본은 "조약에 한국 땅이라고 명시되지 않았으니 일본 땅"이라는 억지 주장을 펼치는 계기로 삼았습니다.'
            },
            'shimane-notification-40': {
                title: '시마네현 고시 제40호 (1905년) & 다케시마의 날',
                category: '오늘날의 독도',
                content: "1905년, 일본이 러일전쟁을 치르던 혼란한 시기에 '주인 없는 땅'이라는 거짓 명분을 내세워 독도를 '다케시마'라 이름 붙이고 일본 시마네현에 불법적으로 편입시킨 행정 조치가 바로 '시마네현 고시 제40호'입니다. 일본 시마네현은 이 불법적인 조치를 기념한다며 매년 2월 22일을 '다케시마의 날'로 지정하고 행사를 열고 있습니다.",
                keyPoint: '이는 역사적 진실을 왜곡하고 의도적으로 갈등을 일으키는 행위로, 한일 관계를 악화시키는 주요 원인이 되고 있습니다.'
            },
            'icj': {
                title: '국제사법재판소 (ICJ)',
                category: '오늘날의 독도',
                content: '국가 간의 법적 분쟁을 해결하기 위한 유엔(UN)의 주요 사법 기관입니다. 일본은 독도 문제를 이곳에 가져가 재판으로 해결하자고 계속해서 제안하고 있습니다. 하지만 대한민국 정부는 이에 응하지 않고 있습니다.',
                keyPoint: '그 이유는 독도가 역사적, 지리적, 국제법적으로 명백한 우리 고유의 영토이므로 애초에 재판의 대상이 될 수 없기 때문입니다. 또한, 이는 독도를 국제적인 분쟁 지역으로 만들려는 일본의 숨은 의도가 담긴 전략이기도 합니다.'
            },
            'conclusion': {
                title: '맺음말: 역사를 기억하고 미래를 여는 지혜',
                content: '이제까지 살펴본 핵심 용어들은 단순히 외워야 할 지식이 아닙니다. 이 용어들은 독도의 역사적 진실을 이해하고, 오늘날의 갈등을 객관적으로 바라보게 하는 열쇠입니다. 이제 여러분은 독도의 진실을 말할 수 있는 힘을 가졌습니다. 이 지식을 바탕으로 과거를 정확히 이해하고, 미래의 평화를 지혜롭게 만들어가는 주역이 되기를 바랍니다.'
            }
        };

        // 2. DOM 요소 참조
        const keywordList = document.getElementById('keyword-list');
        const definitionDisplay = document.getElementById('definition-display');
        const searchForm = document.getElementById('search-form');
        const searchInput = document.getElementById('search-input');
        
        let activeKeywordButton = null;

        // 3. 정의 표시 함수
        function displayDefinition(termKey) {
            const term = termsData[termKey];
            if (!term) {
                definitionDisplay.innerHTML = `
                    <h3 class="text-2xl font-semibold text-red-600 mb-4">검색 결과 없음</h3>
                    <p class="text-gray-700 text-lg">입력하신 용어를 찾을 수 없습니다. 철자를 확인하시거나 다른 용어를 선택해주세요.</p>
                `;
                return;
            }

            let html = `<h2 class="text-3xl font-semibold text-blue-900 mb-6 border-b-2 border-blue-700 pb-3">${term.title}</h2>`;
            
            if (term.category) {
                html += `<span class="inline-block bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full mb-6">${term.category}</span>`;
            }

            html += `<p class="text-gray-700 text-lg leading-relaxed">${term.content}</p>`;

            if (term.keyPoint) {
                let keyPointBg = term.category.includes('일본') ? 'bg-green-50 border-green-500' : 'bg-blue-50 border-blue-500';
                let keyPointText = term.category.includes('일본') ? 'text-green-900' : 'text-blue-900';
                
                html += `
                    <div class="mt-8 ${keyPointBg} border-l-4 p-5 rounded-r-md">
                        <p class="font-semibold ${keyPointText} text-lg mb-2">그래서 중요한 점은?</p>
                        <p class="text-gray-800 leading-relaxed">${term.keyPoint}</p>
                    </div>
                `;
            }
            
            definitionDisplay.innerHTML = html;
            
            // 활성 버튼 스타일 업데이트
            if (activeKeywordButton) {
                activeKeywordButton.classList.remove('bg-blue-600', 'text-white');
                activeKeywordButton.classList.add('bg-gray-100', 'text-gray-700', 'hover:bg-blue-100', 'hover:text-blue-700');
            }
            const newActiveButton = document.querySelector(`button[data-key="${termKey}"]`);
            if (newActiveButton) {
                newActiveButton.classList.remove('bg-gray-100', 'text-gray-700', 'hover:bg-blue-100', 'hover:text-blue-700');
                newActiveButton.classList.add('bg-blue-600', 'text-white');
                activeKeywordButton = newActiveButton;
            } else {
                activeKeywordButton = null;
            }
        }

        // 4. 키워드 목록 생성 함수
        function populateKeywordList() {
            let currentCategory = '';
            Object.keys(termsData).forEach(key => {
                const term = termsData[key];
                
                // 카테고리 제목 추가
                if (term.category && term.category !== currentCategory) {
                    currentCategory = term.category;
                    const categoryTitle = document.createElement('li');
                    categoryTitle.className = 'text-sm font-semibold text-gray-500 uppercase mt-4 mb-2 px-3';
                    categoryTitle.textContent = currentCategory;
                    keywordList.appendChild(categoryTitle);
                }

                // 머리말/맺음말 또는 카테고리가 없는 항목 스킵 (목록에서는)
                if (!term.category) {
                    if (key === 'introduction' || key === 'conclusion') {
                         const li = document.createElement('li');
                         const button = document.createElement('button');
                         button.className = "w-full text-left font-medium px-3 py-2.5 rounded-lg transition-colors duration-200 text-gray-700 hover:bg-blue-100 hover:text-blue-700";
                         button.textContent = term.title.split(':')[0]; // "머리말" 또는 "맺음말"
                         button.setAttribute('data-key', key);
                         li.appendChild(button);
                         keywordList.appendChild(li);
                    }
                    return; 
                }

                const li = document.createElement('li');
                const button = document.createElement('button');
                button.className = "w-full text-left font-medium px-3 py-2.5 rounded-lg transition-colors duration-200 bg-gray-100 text-gray-700 hover:bg-blue-100 hover:text-blue-700";
                // 괄호 안의 한자 등은 제외하고 대표 이름만 표시
                button.textContent = term.title.split('(')[0].trim(); 
                button.setAttribute('data-key', key);
                li.appendChild(button);
                keywordList.appendChild(li);
            });
        }

        // 5. 검색 처리 함수
        function handleSearch(e) {
            e.preventDefault();
            const searchTerm = searchInput.value.toLowerCase().trim();
            if (!searchTerm) return;

            // 간단한 키워드 매칭
            const foundKey = Object.keys(termsData).find(key => {
                const term = termsData[key];
                const title = term.title.toLowerCase();
                const content = term.content.toLowerCase();
                
                // 제목 또는 내용에서 검색어 찾기
                // 약어(EEZ, ICJ) 검색 지원
                return title.includes(searchTerm) || content.includes(searchTerm) || (term.title.includes('(') && term.title.toLowerCase().includes(searchTerm));
            });

            if (foundKey) {
                displayDefinition(foundKey);
                // 모바일에서 검색 후 스크롤
                if (window.innerWidth < 768) {
                    definitionDisplay.scrollIntoView({ behavior: 'smooth' });
                }
            } else {
                displayDefinition(null); // '결과 없음' 표시
            }
        }

        // 6. 이벤트 리스너 연결
        
        // 키워드 목록 클릭 이벤트 (이벤트 위임)
        keywordList.addEventListener('click', (e) => {
            const button = e.target.closest('button');
            if (button && button.dataset.key) {
                const termKey = button.dataset.key;
                displayDefinition(termKey);
                
                // 모바일에서 클릭 후 스크롤
                if (window.innerWidth < 768) {
                    definitionDisplay.scrollIntoView({ behavior: 'smooth' });
                }
            }
        });

        // 검색 폼 제출 이벤트
        searchForm.addEventListener('submit', handleSearch);

        // 7. 초기화
        document.addEventListener('DOMContentLoaded', () => {
            populateKeywordList();
            displayDefinition('introduction'); // 페이지 로드 시 '머리말' 표시
            lucide.createIcons(); // Lucide 아이콘 생성
        });
    </script>
</body>
</html>
